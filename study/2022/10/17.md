# 2022.10.17 [PKIMS 개발]



### 패치 등록 & 수정 개선

(1) 유효성 체크, 유효성 별 메시지 추가
 - 필수 값 : 솔루션, 패치 일자, 패치 레벨, 패치 버전, 패치 파일, 담당자 / 선별 패치 선택 시, 대상 등록 선택, 선별 패치 시작 일자, 종료 일자 필수
- 선택 사항 : 다운로드 경로, 패치 내용, 선별 패치, 적용 여부
- 파일 : exe, apk 확장자, 등록 시에는 파일 등록 필수 (패치 수정 시에는 업로드 안할 경우 기존 파일)
- 솔루션/버젼 중복 등록 체크 (선별 패치는 중복 등록 가능)


(2) 패치 폼 수정 및 오류 수정
- 패치 등록 입력 폼 ajax 로 변경 (입력 폼 내용 유지)
- 패치 내용 텍스트 박스 크기 조정


(3) 파일 업로드
- 업로드 경로 컬럼 추가 (FILE_PATH)
- FILE_PATH 컬럼, '/[솔루션코드]/[버전]/[버전SEQ]_[파일이름].[exe,apk]' 로 FILE_PATH INSERT or UPDATE
- 버전 체크 시 , FILE PATH 경로로 파일 다운로드



`※ 확인 사항`
- 파일 수정 시, 기존 업로드 된 파일은 덮어 쓰게 됌
- 기존 업로드 파일은 별도의 bak 폴더로 이동, 별도 관리 예정
- 입력 폼에서 LOCAL_PATH 입력을 하지 않았을 경우, 기존 처럼 'C:\\KIOSK_PATCH' & 문구 추가 예정

