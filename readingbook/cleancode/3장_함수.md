# 3장 함수

1.  SOLID
2. 간결한 함수 작성
3. 안전한 함수
4. 함수 리펙터링

—

## 1. ***SOLID  원칙***

- 객체지향 설계의 5가지 원칙

**SRP 단일 책임 원칙** : 한 클래스는 하나의 책임만 가져야 한다.

<p align="center">
  <img src="https://user-images.githubusercontent.com/80144039/167747704-25393b72-3ef7-4aef-ba75-47693c98bab8.png" />
</p>
 
- 클래스는 하나의 기능만 갖고, 어떤 변화에 의해 클래스를 변경하는 이유는 하나 여야 한다.

**OCP(개방-폐쇄 원칙)** : 소프트웨어는 확장에는 열려 이으나 변경에는 닫혀 있어야 한다.

- 요구 사항의 변경이 일어났어도, 기존 구성 요소에는 수정이 일어나지 않고, 기존 구성 요소를 쉽게 확장해서 재사용한다.
- 객체지향의 추상화와 다형성을 활용한다.

**LSP(리스코프 치환 원칙)** : 서브 타입은 언제나 기반 타입으로 교체할 수 있어야 한다.

- 서브 타입에서는 기반 타입의 약속을 지켜야 한다.
- 다형성을 극대화하기 위해 인터페이스를 사용해라.

**ISP(인터페이스 분리 원칙)** : 자신이 사용하지 않는 인터페이스는 구현하지 말아야 한다.

- 가능한 최소한의 인터페이스만 구현한다.

**DIP(의존성 역전 원칙)** : 상위 모델은 하위 모델에 의존하지 않고 추상화에 의존해야한다. 추상화는 세부 사항에 의존하지 않고, 세부사항은 추상화에 따라 달라진다.

- 실제 사용 관계는 그대로지만, 추상화를 매개로 해 메시지를 주고 받으며 관계를 느슨하게 한다.

 

[예제 - 추상화를 사용하지 않은 경우 확장에 유효하지 않다.]

<p align="center">
  <img src="https://user-images.githubusercontent.com/80144039/167747746-ab0b36b8-92cd-4b6c-a9bf-fdc881253ca5.png" />
</p>

- 카드사가 추가 될때마다 확장에 유연하지 않다.

[예제 - 추상화를 사용해 확장에 유연하다.]


<p align="center">
  <img src="https://user-images.githubusercontent.com/80144039/167747767-53d9bb68-4158-4811-9e12-f3ee77eaddfa.png/>
</p>


## 2. 간결한 함수 작성

- 함수 내 추상화 수준을 동일하게 맞추고 작게 쪼개야 한다.

[예제 - 두가지 기능을 하는 함수 , money 생성 & 계산]

<p align="center">
  <img src="https://user-images.githubusercontent.com/80144039/167747796-b16c7716-e2b4-4654-8516-1f6179cd1f0a.png"/>
</p>


[예제 - 계산과 타입을 분리한다.]
                                                                                                                  
<p align="center">
  <img src="https://user-images.githubusercontent.com/80144039/167747833-f62da75f-f377-4e68-a388-416464fc3f40.png">
</p>
                                                                                                                  
- Type에 대한 처리는 최대한 Factory에서만 구현한다.

***함수 인수***

- 인수의 갯수는 0~2개가 적당한다.
- 3개 이상의 경우에는 객체를 인자로 넘긴다.

## 3. 안전한 함수

- 부수 효과(Side Effect)가 없는 함수
    - 값을 반환하는 함수가 외부 상태를 변경하는 경우
    
<p align="center">
  <img src="https://user-images.githubusercontent.com/80144039/167747862-c0f3abeb-a8c4-4143-b024-c9b72525c051.png">
</p>
                                                                                                                  
- password 체크 하는 로직에서 세션을 초기화 시키고 있다. (좋지 못함)

## 4. 함수 리펙터링

[과정]

1. 기능을 구현하는 함수를 작성 
2. 테스트 코드 작성 
3. 리팩터링 - 함수 쪼개기, 이름 수정, 중복 제거
